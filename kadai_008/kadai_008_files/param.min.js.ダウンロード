'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var fpcParam=function(){function a(b){_classCallCheck(this,a),this.paramName='fpc',this.paramSpliter='.',this.paramArray=b,this.error='',this.fbclid='',this.yclid='',this.yj_r='',this.gclid='',this.gbraid='',this.wbraid='',this.ttclid='',this.ldtag_cl=''}return _createClass(a,[{key:'addParameter',value:function addParameter(a,b){var c=1,d=2;try{this.fbclid=this.getUriParameter('fbclid'),this.yclid=this.getUriParameter('yclid'),this.yj_r=this.getUriParameter('yj_r'),this.gclid=this.getUriParameter('gclid'),this.gbraid=this.getUriParameter('gbraid'),this.wbraid=this.getUriParameter('wbraid'),this.ttclid=this.getUriParameter('ttclid'),this.ldtag_cl=this.getUriParameter('ldtag_cl');for(var e=document.getElementsByTagName('a'),f=0;f<e.length;f++)(a==c||a==d&&e[f].getAttribute('data-add-'+b))&&this.setParameter(e[f]);for(var g=document.getElementsByTagName('form'),f=0;f<g.length;f++)(a==c||a==d&&g[f].getAttribute('data-add-'+b))&&this.setParameter(g[f])}catch(a){}}},{key:'setParameter',value:function setParameter(a){this.setParameterElement(a,this.paramName,this.paramArray.join(this.paramSpliter))}},{key:'setParameterElement',value:function setParameterElement(a,b,c){var d='',e='',f='',g=b+'='+c;switch(a.nodeName){case'A':d=a.href,e=a.hash;break;case'FORM':d=a.action,e='';}if(f=-1==d.indexOf('?')?'?':'&',d&&!e){var h=d.match(/([^#]*)(.*)/);h[2]&&(e=h[2])}try{if(!c)throw new Error('invalid value.');if(''!=e)throw new Error('exist hash.');if(!d.match(/https?/)||d.match(/#$/))throw new Error('not valid http url.');var i=new RegExp(g);if(d.match(i))throw new Error('exist same parameter.');if(document.location.href==d)throw new Error('same url.');switch(a.nodeName){case'A':a.href+=f+g;break;case'FORM':a.action+=f+g;var j=document.createElement('input');j.type='hidden',j.name=b,j.value=c,a.appendChild(j);}}catch(a){this.error=a}}},{key:'getUriParameter',value:function getUriParameter(a){var b=new RegExp('[?&]'+a+'=([^&]*)'),c=location.search.match(b);return c?c[1]:null}},{key:'addParameterApi',value:function addParameterApi(a,b){var c=1,d=2;try{this.fbclid=this.getUriParameter('fbclid'),this.yclid=this.getUriParameter('yclid'),this.yj_r=this.getUriParameter('yj_r'),this.gclid=this.getUriParameter('gclid'),this.gbraid=this.getUriParameter('gbraid'),this.wbraid=this.getUriParameter('wbraid'),this.ttclid=this.getUriParameter('ttclid'),this.ldtag_cl=this.getUriParameter('ldtag_cl');for(var e=document.getElementsByTagName('a'),f=0;f<e.length;f++)(a==c||a==d&&e[f].getAttribute('data-add-'+b))&&this.setParameterApi(e[f]);for(var g=document.getElementsByTagName('form'),f=0;f<g.length;f++)(a==c||a==d&&g[f].getAttribute('data-add-'+b))&&this.setParameterApi(g[f])}catch(a){}}},{key:'setParameterApi',value:function setParameterApi(a){this.setParameterElement(a,'fbclid',this.fbclid),this.setParameterElement(a,'yclid',this.yclid),this.setParameterElement(a,'yj_r',this.yj_r),this.setParameterElement(a,'gclid',this.gclid),this.setParameterElement(a,'gbraid',this.gbraid),this.setParameterElement(a,'wbraid',this.wbraid),this.setParameterElement(a,'ttclid',this.ttclid),this.setParameterElement(a,'ldtag_cl',this.ldtag_cl)}}]),a}();
